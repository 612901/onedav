(function(){var e={9254:function(e,t,o){"use strict";var i=o(9242),n=o(3396),s=o(7139);const a={id:"root"},l={class:"main-page",ctype:"[6]"},r={class:"inp"},d=["src"],c={class:"sou-main"},u=["alt","src","onClick"],h={key:0,class:"search-preview"},m=["onClick"],p=["innerHTML"],f={key:0,class:"history"},w=["cdata","title","onClick"],g={class:"img"},y=["src"],v={class:"span"},k={class:"drawer-main"},b=["cdata"],_={class:"y-list"},V=["cdata","title","onClick"],x={class:"img"},I=["alt","src"],C={class:"name"},D=["src"],U=(0,n.Uk)("© 2022 Powered by "),L=(0,n._)("a",{href:"https://github.com/helloxz/onenav"},"OneNav",-1),W=(0,n.Uk)(" ---\x3e ");function T(e,t,o,T,$,q){const R=(0,n.up)("Mouse"),S=(0,n.up)("MenuCom"),O=(0,n.up)("Links"),P=(0,n.up)("Settings");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,[(0,n._)("div",{class:(0,s.C_)([{moveUp:$.drawer},"search"])},[(0,n._)("div",r,[(0,n._)("div",{class:"search-type",onClick:t[0]||(t[0]=e=>$.souStatus=!$.souStatus)},[(0,n._)("img",{src:$.default_sou.icon},null,8,d)]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>$.search=e),placeholder:"搜一搜？",onFocus:t[2]||(t[2]=(...e)=>q.searchPreviewRender&&q.searchPreviewRender(...e)),onFocusout:t[3]||(t[3]=(...e)=>q.closePreview&&q.closePreview(...e)),onKeyup:t[4]||(t[4]=(0,i.D2)(((...e)=>q.search_go&&q.search_go(...e)),["enter"]))},null,544),[[i.nr,$.search]])]),(0,n._)("div",{class:(0,s.C_)([{souShow:$.souStatus},"sou"])},[(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.sou,((e,t)=>((0,n.wg)(),(0,n.iD)("img",{key:t,alt:e.name,src:e.icon,onClick:t=>q.set_sou(e)},null,8,u)))),128))])],2),(0,n.Wm)(i.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[$.searchPreview?((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.searchList,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t,onClick:t=>q.to(e)},[(0,n._)("span",{innerHTML:e.title},null,8,p),(0,n._)("span",null,(0,s.zw)(e.description),1)],8,m)))),128))])])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(i.uT,{name:"showings"},{default:(0,n.w5)((()=>[$.drawer||$.searchPreview||0==$.history.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.history,((e,t)=>((0,n.wg)(),(0,n.j4)(i.uT,{key:t},{default:(0,n.w5)((()=>[(0,n._)("div",{cdata:e.url,title:e.description,class:"item",ctype:"[5]",onClick:t=>q.to(e)},[(0,n._)("div",g,[(0,n._)("img",{src:q.getIcon(e)},null,8,y)]),(0,n._)("div",v,(0,s.zw)(e.title),1)],8,w)])),_:2},1024)))),128))]))])),_:1})],2)]),(0,n._)("div",{class:(0,s.C_)([{show:$.drawer},"drawer"])},[(0,n._)("div",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.list,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"x-list"},[(0,n._)("div",{cdata:e.id,class:"title",ctype:"[1,2]"},[(0,n._)("i",{class:(0,s.C_)(e?.font_icon)},null,2),(0,n._)("span",null,(0,s.zw)(e.name),1)],8,b),(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.children,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,cdata:e.id,title:e.description,class:"dreaer-list",ctype:"[3,4]",onClick:t=>q.to(e)},[(0,n._)("div",x,[(0,n._)("img",{alt:e.title,src:q.getIcon(e)},null,8,I)]),(0,n._)("div",C,(0,s.zw)(e.title),1)],8,V)))),128))])])))),128))])],2),0!=$.tabBar.length?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,s.C_)([{shows:$.drawer},"bottomtab"])},[(0,n._)("div",{style:(0,s.j5)({width:65*$.tabBar.length+"px"}),class:"al"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.tabBar,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("img",{src:e.icon},null,8,D)])))),128))],4)],2)):(0,n.kq)("",!0),(0,n.Wm)(R),(0,n.Wm)(S),(0,n.Wm)(O),(0,n.Wm)(P),(0,n.wy)((0,n._)("footer",null,[(0,n._)("span",null,[U,L,W,(0,n._)("span",{style:{cursor:"pointer"},onClick:t[5]||(t[5]=(...e)=>q.login&&q.login(...e))},"login in")])],512),[[i.F8,!$.drawer]])])}o(2801),o(8675),o(3462);var $=o(1373);const q=(0,$.Z)();var R=q,S=o(8492),O=o(7171),P=o(6265),E=o.n(P),j={};async function Y(e="def",t=2e3){const o=(new Date).getTime();return e in j&&j[e]>o?Promise.reject(!1):(j[e]=o+t,Promise.resolve(!0))}var B=Y,H=o(6666);let M=!1,K="";"localhost"===location.hostname&&(K="https://web.png.ink",M="a63d21e1946cf0746056c75550a787c6");const N=E().create({baseURL:K,timeout:3e4});N.interceptors.request.use((e=>(e.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",M&&("object"==typeof e.data?e.data["token"]=M:e.data={token:M}),e.transformRequest=[function(e){let t="";for(let o in e)""===e[o]&&0!==e[o]||(t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o])+"&");return t}],e))),N.interceptors.response.use((e=>e.data),(e=>(B("netWork",1e4).then((e=>{(0,H.bM)({title:"网络错误",message:"请求服务器超时、请重试发起请求",type:"error",duration:5e3})})).catch((e=>console.log("网络错误"))),Promise.reject({code:404,msg:"网络错误"}))));var Z=N;const F=(e={})=>Z({url:"/index.php?c=api&method=category_list&limit=999999",params:e}),z=(e={})=>Z({url:"/index.php?c=api&method=link_list&limit=999999",params:e}),A=(e={})=>Z({url:"/index.php?c=api&method=add_category",method:"post",data:e}),J=(e={})=>Z({url:"/index.php?c=api&method=edit_category",method:"post",data:e}),X=(e={})=>Z({url:"/index.php?c=api&method=add_link",method:"post",data:e}),G=(e={})=>Z({url:"/index.php?c=api&method=edit_link",method:"post",data:e}),Q=(e={})=>Z({url:"/index.php?c=api&method=del_category",method:"post",data:e}),ee=(e={})=>Z({url:"/index.php?c=api&method=edit_link",method:"post",data:e});var te={mounted(){window.addEventListener("wheel",(e=>{if(window.scrolllock)return;let t=Boolean(e.deltaY>0);const o=document.querySelector(".drawer-main");if(t)this.drawer||setTimeout((e=>{o.style.overflowY="scroll"}),200),this.drawer=!0;else{if(0!==o.scrollTop)return;this.drawer=!1,o.style.overflowY="hidden"}})),document.querySelector(".drawer-main").addEventListener("touchmove",(e=>{e.stopPropagation()}),{passive:!1}),document.querySelector("#root").addEventListener("touchstart",(e=>{if(window.scrolllock)return;let t=e.touches[0].clientY;this.touch={y:t,time:(new Date).getTime()}})),document.querySelector("#root").addEventListener("touchend",(e=>{if(window.scrolllock)return;let t=e.changedTouches[0].clientY,o=(new Date).getTime();if(t===this.touch.y)return!1;if(o-300<this.touch.time)if(t+100<this.touch.y)this.drawer=!0;else if(t-100>this.touch.y){if(0!==document.querySelector(".drawer-main").scrollTop)return;this.drawer=!1}})),document.querySelector("#root").addEventListener("touchmove",(e=>{e.stopPropagation(),e.preventDefault()}),{passive:!1})}};function oe(e,t,o,a,l,r){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{style:(0,s.j5)({left:l.mouseRight.x,top:l.mouseRight.y}),class:"tabar"},[(0,n._)("div",{onClick:t[0]||(t[0]=(...e)=>r.addmenu&&r.addmenu(...e))},"新增目录"),r.canshow(1)?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:t[1]||(t[1]=(...e)=>r.updatemenu&&r.updatemenu(...e))},"修改目录")):(0,n.kq)("",!0),r.canshow(2)?((0,n.wg)(),(0,n.iD)("div",{key:1,onClick:t[2]||(t[2]=(...e)=>r.delmenu&&r.delmenu(...e))},"删除目录")):(0,n.kq)("",!0),(0,n._)("div",{onClick:t[3]||(t[3]=(...e)=>r.addlink&&r.addlink(...e))},"新增链接"),r.canshow(3)?((0,n.wg)(),(0,n.iD)("div",{key:2,onClick:t[4]||(t[4]=(...e)=>r.dellink&&r.dellink(...e))},"删除链接")):(0,n.kq)("",!0),r.canshow(4)?((0,n.wg)(),(0,n.iD)("div",{key:3,onClick:t[5]||(t[5]=(...e)=>r.updatelink&&r.updatelink(...e))},"修改链接")):(0,n.kq)("",!0),r.canshow(5)?((0,n.wg)(),(0,n.iD)("div",{key:4,onClick:t[6]||(t[6]=(...e)=>r.delhistory&&r.delhistory(...e))},"删除记录")):(0,n.kq)("",!0),r.canshow(6)?((0,n.wg)(),(0,n.iD)("div",{key:5,onClick:t[7]||(t[7]=(...e)=>r.swiptBg&&r.swiptBg(...e))},"换个背景")):(0,n.kq)("",!0),r.canshow(6)?((0,n.wg)(),(0,n.iD)("div",{key:6,onClick:t[8]||(t[8]=(...e)=>r.downbg&&r.downbg(...e))},"下载壁纸")):(0,n.kq)("",!0),(0,n._)("div",{onClick:t[9]||(t[9]=(...e)=>r.setting&&r.setting(...e))},"个性设置")],4)),[[i.F8,l.show]])}var ie={name:"mouse",data(){return{mouseRight:{x:0,y:0},show:!1,info:{},ctype:[],element:null}},props:["xy","type"],methods:{addmenu(){R.emit("menushow",!0)},downbg(){const e=base64ToBlob(S.memory.get("bg"));let t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="壁纸.jpg",t.click()},updatemenu(){const e=S.memory.get("list")||[],t=e.findIndex((e=>e.id==this.info));if(-1===t)return!1;const o=e[t];R.emit("menushow",o),this.show=!1},addlink(){R.emit("show",!0)},delhistory(){R.emit("delhistory",this.info),this.show=!1},swiptBg(){let e=new FileReader;e.onload=t=>{const o=e.result;o.length<100&&this.$notify.error({title:"出现异常",message:"没有切换成功"}),S.memory.set("bg",o)},this.$notify.info({title:"切换中",message:"请稍等片刻，我处理一下"}),fetch("https://web.png.ink/background.php").then((t=>{t.blob().then((t=>{e.readAsDataURL(t);const o=URL.createObjectURL(t);document.querySelector("#root").style.background=`url(${o}) no-repeat center/cover`}))})),this.show=!1},async delmenu(){try{await this.$confirm("是否删除？")}catch(t){return!1}const{code:e}=await Q({id:this.info});0===e?(this.element.parentNode.remove(),this.$message.success("删除成功")):this.$message.error("删除失败"),this.show=!1},async dellink(){try{await this.$confirm("是否删除？")}catch(n){return!1}const e=S.memory.get("lists")||[],t=e.findIndex((e=>e.id==this.info));if(-1===t)return!1;const o=e[t],{code:i}=await ee({id:o.id});0===i?(this.element.remove(),this.$message.success("删除成功")):this.$message.error("删除失败"),this.show=!1},setting(){R.emit("settings"),this.show=!1},updatelink(){const e=S.memory.get("lists")||[],t=e.findIndex((e=>e.id==this.info));if(-1===t)return!1;const o=e[t];R.emit("showandupdate",o),this.show=!1},canshow(e){return Boolean(this.ctype.indexOf(e)>-1)}},mounted(){document.addEventListener("click",(e=>{this.show=!1}));const e={isdown:!1,time:null};window.addEventListener("touchstart",(t=>{e.isdown=!0,e.time=(new Date).getTime(),e.time=setTimeout((e=>{this.mouseRight={x:t.changedTouches[0].clientX+"px",y:t.changedTouches[0].clientY+"px"};try{let e=JSON.parse(t.target.attributes.ctype.value);e.length>0&&(this.ctype=e)}catch(t){this.ctype=[]}try{let e=t.target.attributes.cdata.value;this.info=e,this.element=t.target}catch(t){}this.show=!0}),500)})),window.addEventListener("touchend",(function(){e.isdown=!1,clearTimeout(e.time),e.time=null})),window.addEventListener("mousedown",(e=>{if(2===e.button){this.mouseRight={x:e.clientX+"px",y:e.clientY+"px"};try{let t=JSON.parse(e.toElement.attributes.ctype.value);t.length>0&&(this.ctype=t)}catch(e){this.ctype=[]}try{let t=e.toElement.attributes.cdata.value;this.info=t,this.element=e.target}catch(e){}this.show=!0,e.preventDefault(),e.stopPropagation()}}),{passive:!1})}},ne=o(89);const se=(0,ne.Z)(ie,[["render",oe]]);var ae=se;const le={class:"menu_add"},re={class:"other"},de=(0,n._)("div",{style:{margin:"15px 0px"}},[(0,n.Uk)("图标查看地址 "),(0,n._)("a",{href:"https://fontawesome.dashgame.com",target:"_blank"},"https://fontawesome.dashgame.com")],-1),ce={slot:"footer",class:"dialog-footer"},ue=(0,n.Uk)("取 消"),he=(0,n.Uk)("确 定");function me(e,t,o,i,s,a){const l=(0,n.up)("el-input"),r=(0,n.up)("el-option"),d=(0,n.up)("el-select"),c=(0,n.up)("el-switch"),u=(0,n.up)("el-button"),h=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(h,{modelValue:s.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=e=>s.dialogVisible=e),"close-on-click-modal":!1,title:s.isedit?"修改目录":"添加目录",width:a.sumwidth(s.dialogVisible),"append-to-body":"",draggable:""},{default:(0,n.w5)((()=>[(0,n._)("div",le,[(0,n.Wm)(l,{modelValue:s.addInfo.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.addInfo.name=e),placeholder:"请输入分类名称"},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.font_icon,"onUpdate:modelValue":t[1]||(t[1]=e=>s.addInfo.font_icon=e),placeholder:"请输入图标类名 不要删除fa (fa 图标名称)"},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.description,"onUpdate:modelValue":t[2]||(t[2]=e=>s.addInfo.description=e),maxlength:"300",placeholder:"请输入站点描述（完整）","show-word-limit":"",type:"textarea"},null,8,["modelValue"]),(0,n._)("div",re,[(0,n.Wm)(d,{modelValue:s.addInfo.fid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.addInfo.fid=e),placeholder:"父级菜单，非必选"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.option,((e,t)=>((0,n.wg)(),(0,n.j4)(r,{key:t,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.weight,"onUpdate:modelValue":t[4]||(t[4]=e=>s.addInfo.weight=e),placeholder:"权重（0-99）",type:"number"},null,8,["modelValue"]),(0,n.Wm)(c,{modelValue:s.addInfo.property,"onUpdate:modelValue":t[5]||(t[5]=e=>s.addInfo.property=e),"active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"是否公开"},null,8,["modelValue"])]),de]),(0,n._)("div",ce,[(0,n.Wm)(u,{onClick:t[6]||(t[6]=e=>s.dialogVisible=!1)},{default:(0,n.w5)((()=>[ue])),_:1}),(0,n.Wm)(u,{type:"primary",onClick:a.submit},{default:(0,n.w5)((()=>[he])),_:1},8,["onClick"])])])),_:1},8,["modelValue","title","width"])])}var pe={name:"menuComponent",methods:{async submit(){if(""===this.addInfo.name)return this.$message.error("缺少目录名称");const e={...this.addInfo};e.property=this.addInfo.property?0:1;const{code:t}=this.isedit?await J(e):await A(e);0===t?(this.$message.success("添加成功"),setTimeout((e=>location.reload()),1e3),this.dialogVisible=!1):this.$message.error("添加失败")},sumwidth(){return outerWidth>500?"500px":"375px"}},data(){return{dialogVisible:!1,option:[],addInfo:{name:"",weight:"",property:!0,description:"",font_icon:"fa ",fid:""},tmp:{name:"",weight:"",property:!0,description:"",font_icon:"fa ",fid:""},isedit:!1}},watch:{dialogVisible(e){!1===e?window.scrolllock=!1:!0===e&&(this.addInfo=JSON.parse(JSON.stringify(this.tmp)),window.scrolllock=!0)}},mounted(){R.on("menushow",(e=>{this.dialogVisible=!0,this.$nextTick((t=>{let o=[];if(S.memory.get("list").forEach((e=>{"0"==e.fid&&o.push(e)})),this.option=o,!0!==e){for(const t in this.addInfo)this.addInfo[t]=e[t];this.addInfo.property=Boolean(1!==e["property"]),this.addInfo.id=e.id,this.addInfo.fid=e.fid,this.isedit=!0}}))}))}};const fe=(0,ne.Z)(pe,[["render",me]]);var we=fe;const ge={class:"menu_add"},ye={class:"other"},ve={slot:"footer",class:"dialog-footer"},ke=(0,n.Uk)("取 消"),be=(0,n.Uk)("确 定");function _e(e,t,o,i,s,a){const l=(0,n.up)("el-input"),r=(0,n.up)("el-option"),d=(0,n.up)("el-select"),c=(0,n.up)("el-switch"),u=(0,n.up)("el-button"),h=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(h,{modelValue:s.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>s.dialogVisible=e),"close-on-click-modal":!1,title:s.isedit?"修改链接":"添加链接",width:a.sumwidth(s.dialogVisible),"append-to-body":"",draggable:""},{default:(0,n.w5)((()=>[(0,n._)("div",ge,[(0,n.Wm)(l,{modelValue:s.addInfo.url,"onUpdate:modelValue":t[0]||(t[0]=e=>s.addInfo.url=e),placeholder:"请输入完整的网址链接"},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.url_standby,"onUpdate:modelValue":t[1]||(t[1]=e=>s.addInfo.url_standby=e),placeholder:"请输入备用链接，没有请留空"},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.title,"onUpdate:modelValue":t[2]||(t[2]=e=>s.addInfo.title=e),placeholder:"请输入标题"},null,8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.description,"onUpdate:modelValue":t[3]||(t[3]=e=>s.addInfo.description=e),maxlength:"300",placeholder:"请输入站点描述（完整）","show-word-limit":"",type:"textarea"},null,8,["modelValue"]),(0,n._)("div",ye,[(0,n.Wm)(d,{modelValue:s.addInfo.fid,"onUpdate:modelValue":t[4]||(t[4]=e=>s.addInfo.fid=e),placeholder:"请选择目录"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.option,((e,t)=>((0,n.wg)(),(0,n.j4)(r,{key:t,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,n.Wm)(l,{modelValue:s.addInfo.weight,"onUpdate:modelValue":t[5]||(t[5]=e=>s.addInfo.weight=e),placeholder:"权重（0-99）",type:"number"},null,8,["modelValue"]),(0,n.Wm)(c,{modelValue:s.addInfo.property,"onUpdate:modelValue":t[6]||(t[6]=e=>s.addInfo.property=e),"active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"是否公开"},null,8,["modelValue"])])]),(0,n._)("div",ve,[(0,n.Wm)(u,{onClick:t[7]||(t[7]=e=>s.dialogVisible=!1)},{default:(0,n.w5)((()=>[ke])),_:1}),(0,n.Wm)(u,{type:"primary",onClick:a.submit},{default:(0,n.w5)((()=>[be])),_:1},8,["onClick"])])])),_:1},8,["modelValue","title","width"])])}var Ve={name:"links",methods:{async submit(e){if(""===this.addInfo.url)return this.$message.error("缺少url地址");if(""===this.addInfo.title)return this.$message.error("缺少标题");const t={...this.addInfo};t.property=this.addInfo.property?0:1;const{code:o}=this.isedit?await G(t):await X(t);0===o?(this.$message.success("添加成功"),setTimeout((e=>location.reload()),1e3),this.dialogVisible=!1):this.$message.error("添加失败")},sumwidth(){return outerWidth>500?"500px":"375px"}},data(){return{dialogVisible:!1,option:[],addInfo:{},tmp:{url:"",weight:"",title:"",property:!0,fid:"",url_standby:"",description:""},isedit:!1}},watch:{dialogVisible(e){!1===e?window.scrolllock=!1:!0===e&&(this.addInfo=JSON.parse(JSON.stringify(this.tmp)),window.scrolllock=!0)}},mounted(){R.on("show",(()=>{this.option=S.memory.get("list")||[],this.dialogVisible=!0})),R.on("showandupdate",(e=>{this.dialogVisible=!0,this.isedit=!0,this.$nextTick((t=>{this.option=S.memory.get("list")||[],this.addInfo=e,this.addInfo.property=0==e.property}))}))}};const xe=(0,ne.Z)(Ve,[["render",_e],["__scopeId","data-v-0775dc69"]]);var Ie=xe,Ce=o(4870),De=o.p+"img/upfile.90afd9e2.svg";const Ue=e=>((0,n.dD)("data-v-5040aa40"),e=e(),(0,n.Cn)(),e),Le={class:"background"},We={class:"upbutton",mauto:""},Te=Ue((()=>(0,n._)("img",{src:De},null,-1))),$e=Ue((()=>(0,n._)("span",{class:"upbuttontext",hover:""},"点击上传10MB以内JPEG/PNG图片",-1)));var qe={setup(e){const t=e=>{const t=e.target.files;if(t.length>0){let e=t[0],o=new FileReader;o.onload=()=>{S.memory.set("bg",o.result),R.emit("set_background")},o.readAsDataURL(e)}};return(e,o)=>((0,n.wg)(),(0,n.iD)("div",Le,[(0,n._)("div",We,[Te,$e,(0,n._)("input",{cli:"",multiple:"multiple",type:"file",onChange:t},null,32)])]))}};const Re=(0,ne.Z)(qe,[["__scopeId","data-v-5040aa40"]]);var Se=Re;const Oe=e=>((0,n.dD)("data-v-5394af4b"),e=e(),(0,n.Cn)(),e),Pe={class:"settings"},Ee=Oe((()=>(0,n._)("div",{class:"left"},[(0,n._)("ul",null,[(0,n._)("li",{class:"selectedLi"},"壁纸设置")])],-1))),je={class:"right"};var Ye={setup(e){const t=(0,Ce.iH)(!0),o=(0,Ce.iH)("rtl"),i=((0,Ce.iH)("Option 1"),e=>{e()});return R.on("settings",(()=>{t.value=!0})),(e,s)=>{const a=(0,n.up)("el-drawer");return(0,n.wg)(),(0,n.j4)(a,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),"before-close":i,direction:o.value,size:"500px",title:"个性设置"},{default:(0,n.w5)((()=>[(0,n._)("div",Pe,[Ee,(0,n._)("div",je,[(0,n.Wm)((0,Ce.SU)(Se))])])])),_:1},8,["modelValue","direction"])}}};const Be=(0,ne.Z)(Ye,[["__scopeId","data-v-5394af4b"]]);var He=Be;const Me=o(7362);var Ke={el:"#root",data(){return{searchPreview:!1,searchList:[],history:S.memory.get("history")||[],search:"",drawer:!1,souStatus:!1,sou:O.HL,default_sou:O.Yn,touch:{y:0,time:0},list:S.memory.get("list")||[],lists:[],mouseRight:{x:0,y:0},tabBar:[]}},components:{Settings:He,Links:Ie,MenuCom:we,Mouse:ae},mixins:[te],methods:{search_go(){this.CHECK_URL(this.search)?/^http/.test(this.search)?location.href=this.search:location.href="//"+this.search:(0,O.by)(this.search)},to({url:e}){const t=this.lists.findIndex((t=>t.url===e)),o=this.lists[t],i=this.history.findIndex((t=>t.url===e));i>-1&&this.history.splice(i,1),t>-1&&(8===this.history.length&&this.history.pop(),this.history.unshift({url:e,title:o.title,description:o.description}),S.memory.set("history",this.history.slice(0,8)));const n=window.open();n.location=e},getIcon(e){if(e.url){let o="";try{o="https://favicon.rss.ink/v1/"+btoa(encodeURI(e.url))}catch(t){console.log(t),console.log(e),console.log(e.url)}return o}},login(){location.href="/index.php?c=login"},mouseMenu(e){const{clientX:t,clientY:o}=e;e.preventDefault()},set_sou(e){(0,O.L$)(e),this.default_sou=e,this.souStatus=!1},async fetchData(){let e=await F(),t=await z();this.lists=t.data,S.memory.set("lists",t.data);let o=e.data;t.data.forEach((e=>{const{category_name:t}=e,i=o.findIndex((e=>e.name===t));o[i].children||(o[i].children=[]),o[i].children.push(e)})),this.list=o,S.memory.set("list",o),await this.$nextTick((e=>{this.sum_icon()}))},searchPreviewRender(){this.search;const e=S.memory.get("lists")||[];let t=[];e.forEach((e=>{-1!==e.title.toLowerCase().indexOf(this.search.toLowerCase())&&t.push({title:e.title.replace(RegExp(this.search,"ig"),`<b>${this.search}</b>`),url:e.url,description:e.description})})),this.searchPreview=Boolean(t.length>0),this.searchList=t.slice(0,10),this.drawer&&(this.drawer=!1)},closePreview(){setTimeout((e=>{this.searchPreview=!1}),100)},sum_icon(){let e=outerWidth-60,t=Math.floor(e/100),o=e/t;outerWidth>501?document.querySelectorAll(".dreaer-list").forEach((e=>{e.style.width=o+"px"})):document.querySelectorAll(".dreaer-list").forEach((e=>{e.style.width=""}))}},async mounted(){await this.fetchData(),R.on("delhistory",(e=>{const t=this.history.findIndex((t=>t.url===e));this.history.splice(t,1),S.memory.set("history",this.history)})),window.base64ToBlob=(e,t)=>{let o=e.split(","),i=o[0].match(/:(.*?);/)[1]||t,n=window.atob(o[1]),s=new ArrayBuffer(n.length),a=new Uint8Array(s);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return new Blob([s],{type:i})};const e=()=>{let e=S.memory.get("bg");if(e&&e.length>100){const t=URL.createObjectURL(base64ToBlob(e));document.querySelector("#root").style.background=`url(${t}) no-repeat center/cover`}else S.memory.del("bg"),document.querySelector("#root").style.background=`url(${Me}) no-repeat center/cover`};e(),R.on("set_background",e),window.addEventListener("resize",(0,S.throttle)(this.sum_icon,200))},watch:{search(e){this.searchPreviewRender()},drawer(e){e&&(this.searchPreview=!1)}}};const Ne=(0,ne.Z)(Ke,[["render",T]]);var Ze=Ne,Fe={setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(Ze,{onContextmenuCapture:t[0]||(t[0]=(0,i.iM)((()=>{}),["prevent"]))})]))}};const ze=Fe;var Ae=ze,Je=o(2609),Xe=(o(4415),o(812));(0,i.ri)(Ae).use(Je.Z,{locale:Xe.Z}).mount("#app")},7171:function(e,t,o){const{memory:i}=o(8492),n=o(910),s=o(5075),a=o(1849),l=o(3333),r=o(1658),d=[{name:"百度",href:"https://www.baidu.com/s?&ie=utf-8&word=$key",icon:n},{name:"谷歌",href:"https://www.google.com/search?q=$key",icon:s},{name:"搜狗",href:"https://www.sogou.com/web?query=$key",icon:a},{name:"360",href:"https://www.so.com/s?ie=utf-8&q=$key",icon:l},{name:"必应",href:"https://cn.bing.com/search?q=$key",icon:r}];let c=i.get("sou")||d[0];function u(e){location.href=c.href.replace(/\$key/,e)}function h(e){c=e,i.set("sou",e)}h(c),t.by=u,t.L$=h,t.Yn=c,t.HL=d},3333:function(e,t,o){"use strict";e.exports=o.p+"img/360.75ed16c8.svg"},910:function(e,t,o){"use strict";e.exports=o.p+"img/baidu.ae9fbe3b.svg"},1658:function(e,t,o){"use strict";e.exports=o.p+"img/bing.a1639e64.svg"},5075:function(e,t,o){"use strict";e.exports=o.p+"img/google.14f0d496.svg"},1849:function(e,t,o){"use strict";e.exports=o.p+"img/sougou.1d8dd0ed.svg"},7362:function(e,t,o){"use strict";e.exports=o.p+"img/bg.c39cc818.png"}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,s){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],s=e[c][2];for(var l=!0,r=0;r<i.length;r++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(l=!1,s<a&&(a=s));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/templates/tushan/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,s,a=i[0],l=i[1],r=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(r)var c=r(o)}for(t&&t(i);d<a.length;d++)s=a[d],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},i=self["webpackChunkone_nav"]=self["webpackChunkone_nav"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(9254)}));i=o.O(i)})();
//# sourceMappingURL=app.e62743d1.js.map